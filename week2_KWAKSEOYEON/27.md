## 27장 배열이란?

### 배열

- **배열(Array)**: 여러 값을 순차적으로 나열한 자료구조이며, 자바스크립트에서 가장 기본적이면서 자주 사용된다.
- `const arr = ['apple', 'banana', 'orange'];`

### 배열의 특징

- 배열의 각 값은 **요소(Element)** 라고 하며, 각 요소는 **0부터 시작하는 인덱스**를 가진다.
- 배열 요소에 접근할 때는 **대괄호 표기법** `arr[0]; // 'apple'` 을 사용한다.
- 배열은 `.length` 프로퍼티를 통해 길이를 알 수 있으며 `for`문으로 순회 가능하다.
  ```jsx
  for (let i = 0; i < arr.length; i++) {
    console.log(arr[i]);
  }
  ```
- 자바스크립트에서 배열은 **객체 타입**이다.
  ```jsx
  typeof arr; // "object"
  ```
- 배열은 다양한 생성 방법이 있다: `리터럴`, `Array()`, `Array.of()`, `Array.from()`

### 자바스크립트 배열은 배열이 아니다

- 자료구조에서의 **진짜 배열**은 **동일한 크기의 메모리 공간**에 **연속적으로 나열**된 구조 (밀집 배열)다.
- 밀집 배열의 특징
  - **빠른 인덱스 접근**: `O(1)` 시간 복잡도.
  - 하지만 삽입/삭제가 비효율적 (`O(n)`).
- 자바스크립트 배열은 내부적으로 **객체**로 구현된 **희소 배열(sparse array)** 형태도 가능하다.
  ```jsx
  const sparse = [, 2, , 4]; // 인덱스 0, 2가 없음
  console.log(sparse.length); // 4
  ```
- 배열 요소는 실제로는 프로퍼티 값이며, `Object.getOwnPropertyDescriptors()`를 통해 내부 확인 가능하다.

### length 프로퍼티와 희소 배열

- `.length`는 배열의 길이 (가장 큰 인덱스 + 1)다.
- **자동 갱신됨**: `push()`, `pop()` 등으로 요소 추가/삭제 시 수동으로 `.length`를 변경할 수 있다. 줄이면 요소가 잘리고 늘려도 빈 요소가 생성되지는 않는다. (단지 빈 슬롯이 생김).

```jsx
const arr = [1, 2, 3, 4, 5];
arr.length = 3;
console.log(arr); // [1, 2, 3]
```

- 희소 배열에서는 `.length`와 실제 요소 개수가 일치하지 않는다. → 성능 저하 원인.
- **모던 JS 엔진은** 요소 타입이 일치하고 밀집된 배열에 대해 최적화한다.
